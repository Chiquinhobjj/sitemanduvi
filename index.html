<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instituto Manduvi - SocialTech que Transforma Vidas</title>
    <meta name="description" content="Instituto Manduvi - SocialTech que transforma vidas e comunidades. Inspirados na for√ßa da √°rvore Manduvi, desenvolvemos solu√ß√µes sustent√°veis com impacto duradouro no Pantanal e al√©m." />
    <meta name="keywords" content="instituto manduvi, socialtech, impacto social, pantanal, cuiab√°, mato grosso, sustentabilidade, inova√ß√£o social" />
    <script>
    // Aplicar polyfill ANTES do ChatKit carregar
    (function() {
      if (typeof window !== 'undefined') {
        // Interceptar StorageType.persistent antes do ChatKit usar
        if (window.StorageType) {
          const originalStorageType = window.StorageType;
          window.StorageType = new Proxy(originalStorageType, {
            get(target, prop) {
              if (prop === 'persistent') {
                console.warn('üö´ StorageType.persistent interceptado - usando fallback');
                return 'persistent';
              }
              return target[prop];
            }
          });
        }
        
        // Garantir que navigator.storage existe
        if (!window.navigator.storage) {
          window.navigator.storage = {
            persist: async () => true,
            estimate: async () => ({ quota: 50000000, usage: 0 })
          };
        }
        
        console.log('üõ°Ô∏è Storage polyfill aplicado antes do ChatKit');
      }
    })();
  </script>
  <script src="https://cdn.platform.openai.com/deployments/chatkit/chatkit.js" async></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
